<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8" />
<title>Toiletten Spel Deluxe</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: url('https://i.imgur.com/yHoT8kZ.png') no-repeat center center fixed; /* leuke achtergrondafbeelding */
    background-size: cover;
    font-family: Arial, sans-serif;
  }
  #gameCanvas {
    display: block;
    margin: auto;
    background: rgba(0, 0, 0, 0.2);
    border: 4px solid #fff;
    box-shadow: 0 0 20px #fff;
  }
  #score {
    color: #fff;
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 24px;
    font-weight: bold;
    text-shadow: 2px 2px 4px #000;
  }
</style>
</head>
<body>
<div id="score">Score: 0</div>
<canvas id="gameCanvas" width="800" height="600"></canvas>

<audio id="plopSound" src="https://www.soundjay.com/button/beep-07.wav"></audio>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const plopSound = document.getElementById('plopSound');

const playerImg = new Image();
playerImg.src = 'https://cdn-icons-png.flaticon.com/512/1946/1946488.png';

const toiletImg = new Image();
toiletImg.src = 'https://cdn-icons-png.flaticon.com/512/1048/1048953.png';

let player = { x: 100, y: 100, size: 50, speed: 5 };
let toilets = [];
let score = 0;
let shake = 0;

// Maak 7 willekeurige toiletten
for (let i = 0; i < 7; i++) {
  toilets.push({
    x: Math.random() * (canvas.width - 50),
    y: Math.random() * (canvas.height - 50),
    size: 50,
    color: getRandomColor(),
    dir: Math.random() < 0.5 ? 1 : -1,
    speed: 1 + Math.random() * 1.5 // sommige toiletten bewegen sneller
  });
}

document.addEventListener('keydown', (e) => {
  switch (e.key) {
    case 'ArrowUp': player.y -= player.speed; break;
    case 'ArrowDown': player.y += player.speed; break;
    case 'ArrowLeft': player.x -= player.speed; break;
    case 'ArrowRight': player.x += player.speed; break;
  }
});

function getRandomColor() {
  const colors = ['#ffb703', '#fb8500', '#ff006e', '#8338ec', '#3a86ff', '#06d6a0', '#118ab2'];
  return colors[Math.floor(Math.random() * colors.length)];
}

function draw() {
  // Schud-effect als geraakt
  if (shake > 0) {
    ctx.setTransform(1, 0, 0, 1, Math.random() * shake - shake / 2, Math.random() * shake - shake / 2);
    shake -= 0.5;
  } else {
    ctx.setTransform(1, 0, 0, 1, 0, 0);
  }

  // Achtergrond
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Speler tekenen
  ctx.drawImage(playerImg, player.x, player.y, player.size, player.size);

  // Toiletten tekenen en bewegen
  toilets.forEach((toilet) => {
    toilet.x += toilet.dir * toilet.speed;
    if (toilet.x <= 0 || toilet.x + toilet.size >= canvas.width) {
      toilet.dir *= -1;
    }

    // Kleur overlay
    ctx.fillStyle = toilet.color;
    ctx.fillRect(toilet.x, toilet.y, toilet.size, toilet.size);

    // Toilet afbeelding
    ctx.drawImage(toiletImg, toilet.x, toilet.y, toilet.size, toilet.size);
  });

  checkCollision();
  requestAnimationFrame(draw);
}

function checkCollision() {
  toilets.forEach((toilet) => {
    if (
      player.x < toilet.x + toilet.size &&
      player.x + player.size > toilet.x &&
      player.y < toilet.y + toilet.size &&
      player.y + player.size > toilet.y
    ) {
      // Raak!
      plopSound.currentTime = 0;
      plopSound.play();
      score++;
      document.getElementById('score').textContent = 'Score: ' + score;
      shake = 10; // Schud het scherm!

      // Verplaats toilet en verander kleur
      toilet.x = Math.random() * (canvas.width - toilet.size);
      toilet.y = Math.random() * (canvas.height - toilet.size);
      toilet.color = getRandomColor();
    }
  });
}

draw();
</script>
</body>
</html>
